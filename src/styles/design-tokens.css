/* Design tokens + utilities for modern UX
   This file is additive and doesn't overwrite existing files.
*/
:root{
  /* Night-Shift / Driver Dark palette */
  --primary: #60A5FA;        /* cool blue */
  --primary-600: #3B82F6;    /* deeper blue for hover/focus */
  --secondary: #34D399;      /* green accent */
  --bg: #0B1220;             /* deep background */
  --surface: #0F1724;        /* card surface */
  --muted: #94A3B8;          /* muted text */
  --text: #E6EEF8;           /* light text on dark bg */
  --success: #10B981;        /* success green */
  --danger: #EF4444;         /* error red */
  --border: #1F2937;         /* dark border */

  /* Highlight for totals / important numbers */
  --total: #10B981;          /* bright green for totals */
  --total-bg: rgba(16,185,129,0.12);

  /* Spacing & radius tokens (keep existing scale) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 20px;
  --space-5: 28px;
  --space-6: 36px;
  --radius-sm: 8px;
  --radius-md: 12px;
}

/* Lightweight utilities */
.container{max-width:1300px;margin:0 auto;padding:var(--space-4);} 
.grid-2{display:grid;grid-template-columns:1fr;gap:var(--space-4);} 
@media(min-width:1000px){.grid-2{grid-template-columns:360px 1fr;gap:var(--space-5);}}
.flex{display:flex}
.center{align-items:center;justify-content:center}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);padding:calc(var(--space-4) + 4px);box-shadow:0 6px 20px rgba(2,6,23,0.06)}
.btn{padding:8px 14px;border-radius:8px;border:none;color:white;font-weight:600;background:linear-gradient(180deg,var(--primary),var(--primary-600));box-shadow:0 6px 18px rgba(11,20,40,0.4)}
.btn.secondary{background:var(--secondary);color:white}
.btn.ghost{background:transparent;color:var(--text);border:1px solid var(--border)}
.btn.btn-danger{background:var(--danger);color:white}
.small{font-size:0.9rem;color:var(--muted)}

/* Form inputs */
.input{width:100%;padding:10px 12px;border-radius:8px;border:1px solid var(--border);background:var(--surface);color:var(--text)}
.input:focus{outline:2px solid rgba(59,130,246,0.12);border-color:var(--primary-600)}

/* Icons sizing */
.icon{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;color:var(--text)}

/* subtle animations */
.fade-in{animation:fadeIn .25s ease-out}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* Person list styles */
.person-list{list-style:none;margin:0;padding:0;border-radius:6px;overflow:hidden}
.person-item{display:flex;align-items:center;gap:var(--space-3);border-bottom:1px solid var(--border);background:transparent}
.person-item:last-child{border-bottom:none}
.person-row{flex:1;text-align:left;padding:12px 14px;border:none;background:transparent;cursor:pointer;border-radius:6px}
.person-row:hover{background:rgba(59,130,246,0.04)}
.person-item.active .person-row{background:linear-gradient(90deg, rgba(59,130,246,0.06), rgba(59,130,246,0.03))}
.person-name{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--text);font-weight:600}
.remove-btn{color:var(--danger);background:transparent;border:none;cursor:pointer;padding:8px;border-radius:8px}
.remove-btn:hover{background:rgba(239,68,68,0.06)}

/* Amount / Total helpers */
.amount{font-weight:700;color:var(--text)}
.amount-total{font-weight:800;padding:6px 10px;border-radius:8px;display:inline-block;background:var(--total-bg);color:var(--total);box-shadow:0 8px 20px rgba(2,6,23,0.5)}

/* Utility for accessible focus outlines */
.focus-ring:focus{outline:3px solid rgba(59,130,246,0.12);outline-offset:2px}

/* Dark mode body background and tweaks */
/* Dark mode body background and tweaks */
body{background:var(--bg);color:var(--text)}

/* Mobile inline sidebar and accessible accordions */
/* hide mobile inline block by default (desktop) */
.mobile-inline-sidebar{display:none}

@media (max-width: 1000px) {
  .grid-2{grid-template-columns:1fr !important}
  .mobile-inline-sidebar{display:block}
  /* force-hide desktop sidebar and overlay on small screens */
  .sidebar{display:none !important}
  .sidebar-overlay{display:none !important}
  .mobile-toggle{display:none !important}
  .mobile-inline-sidebar details{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:8px;margin-bottom:var(--space-3)}
  .mobile-inline-sidebar summary{cursor:pointer;font-weight:700;padding:10px 8px;list-style:none;display:flex;justify-content:space-between;align-items:center}
  .mobile-inline-sidebar .accordion-card[open] summary{border-bottom:none}
  .mobile-inline-sidebar .accordion-card div{padding:8px 4px}

  /* touch targets and spacing */
  .btn{padding:12px 16px;border-radius:10px;font-size:1rem}
  .input{padding:12px 14px;font-size:1rem}
  .person-row{padding:14px;border-radius:10px}
  .person-item .remove-btn{padding:10px}
  /* mobile summary card (dark-friendly) */
  .summary-card-mobile{border-radius:12px;padding:var(--space-4);box-shadow:0 10px 30px rgba(2,6,23,0.6);border:1px solid rgba(31,41,55,0.6);background:linear-gradient(180deg, var(--surface), rgba(15,23,36,0.9));}
  .summary-card-mobile .amount-total{padding:10px 14px;font-size:1rem}
}

/* Person breakdown: mobile card view */
.person-cards{display:none}
.person-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:var(--space-3);box-shadow:0 6px 18px rgba(11,17,36,0.04)}
.person-card .person-name{font-weight:700;color:var(--text);margin-bottom:8px}
.person-card .item-list{font-size:0.95rem;color:var(--muted);margin-bottom:10px}
.person-card .card-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed rgba(0,0,0,0.04)}
.person-card .card-row:last-child{border-bottom:none}
.person-card .label{color:var(--muted)}
.person-card .value{font-weight:600}

@media (max-width: 1000px){
  /* hide wide table, show stacked person cards */
  .person-breakdown-table-wrapper{display:none}
  .person-cards{display:block}
}

  /* Additional Costs responsive layout */
  .additional-costs-grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:var(--space-4);
  }
  .additional-costs-group{display:flex;flex-direction:column;gap:8px}
  .input-currency-row{display:flex;align-items:center;gap:8px}
  .input-currency-prefix{background:transparent;padding:8px 10px;border-radius:6px;color:var(--muted)}

  @media (max-width: 1000px){
    .additional-costs-grid{grid-template-columns:1fr}
    .additional-costs-group{width:100%}
    /* ensure shipping cost appears first, then other costs (DOM order preserved) */
    .additional-costs-group + .additional-costs-group{margin-top:var(--space-3)}
    .input-currency-row{width:100%}
    .input-currency-prefix{padding:10px 12px}
    .input.input-currency{padding:12px}
  }